<span id="top" style="display: block; margin-top: -100px; padding-bottom: 100px">&nbsp;</span>
<div id="contenedor-curso" style="margin: 0 auto;">
    <h1 class="unit">Ejercicios autoevaluativos</h1>
    <div class="questions">
        <div class="questions-nav">
            <button onclick="checkMultiple()"> <img src="img/114-user.svg" alt=""> Comprobar respuesta</button>
            <button onclick="getSolution()"> <img src="img/273-checkmark.svg" alt=""> Solución</button>
            <button onclick="resetInputs()"> <img src="img/174-bin2.svg" alt=""> Borrar</button>
        </div>
        <div class="question">
            <span>5. </span>Marque las siguientes afirmaciones que sean correctas:
        </div>
        <div class="answers" onclick="triedQuestion(1)">
            <label>
                <input type="checkbox" name="optionsRadios1" value="yes">
                <span>A)</span>Un proceso es un programa en ejecución.
            </label>
            <label>
                <input type="checkbox" name="optionsRadios1" value="no">
                <span>B)</span>El solapamiento entre las operaciones del CPU y los dispositivos de E/S es una forma de paralelismo que el programador puede implementar.
            </label>
            <label>
                <input type="checkbox" name="optionsRadios1" value="yes">
                <span>C)</span>Un algoritmo embarazosamente paralelizable es fácilmente expresado como SPMD o MPMD.
            </label>
            <label>
                <input type="checkbox" name="optionsRadios1" value="no">
                <span>D)</span>El término MPMD (por Multiple Process Multiple Data) describe un tipo de arquitectura paralela.
            </label>
        </div>
        <div class="question">
            <span>6. </span>¿Cuál de siguientes afirmaciones es correcta?
        </div>
        <div class="answers" onclick="triedQuestion(2)">
            <label>
                <input type="radio" name="optionsRadios2" value="yes">
                <span>A)</span>Un proceso es un programa en ejecución.
            </label>
            <label>
                <input type="radio" name="optionsRadios2" value="no">
                <span>B)</span>El solapamiento entre las operaciones del CPU y los dispositivos de E/S es una forma de paralelismo que el programador puede implementar.
            </label>
            <label>
                <input type="radio" name="optionsRadios2" value="no">
                <span>C)</span>Un algoritmo embarazosamente paralelizable es fácilmente expresado como SPMD o MPMD.
            </label>
            <label>
                <input type="radio" name="optionsRadios2" value="no">
                <span>D)</span>El término MPMD (por Multiple Process Multiple Data) describe un tipo de arquitectura paralela.
            </label>
        </div>
        <div class="question">
            <span>7. </span>Marque las siguientes afirmaciones que sean correctas:
        </div>
        <div class="answers" onclick="triedQuestion(3)">
            <label>
                <input type="checkbox" name="optionsRadios3" value="no">
                <span>A)</span>Un proceso es un programa en ejecución.
            </label>
            <label>
                <input type="checkbox" name="optionsRadios3" value="no">
                <span>B)</span>El solapamiento entre las operaciones del CPU y los dispositivos de E/S es una forma de paralelismo que el programador puede implementar.
            </label>
            <label>
                <input type="checkbox" name="optionsRadios3" value="yes">
                <span>C)</span>Un algoritmo embarazosamente paralelizable es fácilmente expresado como SPMD o MPMD.
            </label>
            <label>
                <input type="checkbox" name="optionsRadios3" value="yes">
                <span>D)</span>El término MPMD (por Multiple Process Multiple Data) describe un tipo de arquitectura paralela.
            </label>
        </div>
        <div class="question">
            <span>8. </span>Marque las siguientes afirmaciones que sean correctas:
        </div>
        <div class="answers" onclick="triedQuestion(4)">
            <label>
                <input type="checkbox" name="optionsRadios4" value="no">
                <span>A)</span>Un proceso es un programa en ejecución.
            </label>
            <label>
                <input type="checkbox" name="optionsRadios4" value="yes">
                <span>B)</span>El solapamiento entre las operaciones del CPU y los dispositivos de E/S es una forma de paralelismo que el programador puede implementar.
            </label>
            <label>
                <input type="checkbox" name="optionsRadios4" value="yes">
                <span>C)</span>Un algoritmo embarazosamente paralelizable es fácilmente expresado como SPMD o MPMD.
            </label>
            <label>
                <input type="checkbox" name="optionsRadios4" value="yes">
                <span>D)</span>El término MPMD (por Multiple Process Multiple Data) describe un tipo de arquitectura paralela.
            </label>
        </div>
    </div>
</div>
<div class="modal-questions" onclick="closeModal()">
    <h3>Comprobación de respuestas</h3>
    <span>&times;</span>
    <p class="initial">Respuesta 5 <img src="img/268-minus-2.svg"> <img src="img/273-checkmark.svg"> <img src="img/272-cross.svg"></p>
    <p class="initial">Respuesta 6 <img src="img/268-minus-2.svg"> <img src="img/273-checkmark.svg"> <img src="img/272-cross.svg"></p>
    <p class="initial">Respuesta 7 <img src="img/268-minus-2.svg"> <img src="img/273-checkmark.svg"> <img src="img/272-cross.svg"></p>
    <p class="initial">Respuesta 8 <img src="img/268-minus-2.svg"> <img src="img/273-checkmark.svg"> <img src="img/272-cross.svg"></p>
</div>
<div id="overlay-questions" onclick="closeModal()"></div>
<script>

    var questions = document.querySelectorAll(".answers");
    var passArray;
    var modal = document.querySelector(".modal-questions");
    var overlayQuestions = document.getElementById("overlay-questions");
    var modalResults = document.querySelectorAll(".modal-questions p");

    function triedQuestion (e) {
        questions[e - 1].classList.add("tried");
    }

    function checkMultiple () {
        passArray = [];
        questions.forEach((ans, i) => {
            if(ans.classList.contains("tried")) {
                let inputs = ans.querySelectorAll("input");
                let results = []
                let pass;
                inputs.forEach(el => {
                    if (el.checked && el.value === 'no') {
                        results.push(false);
                    } else if (!el.checked && el.value === 'yes'){
                        results.push(false)
                    } else {
                        results.push(true)
                    }
                })
                pass =  results.includes(false) ? false : true;
                passArray.push(pass);
            } else {
                passArray.push('n/a');
            }
        })

        modalResults.forEach((mod, i) => {
            if  (passArray[i] === true) {
                mod.classList.remove('initial');
                mod.classList.add('pass');
                mod.classList.remove('not-pass');
            } else if (passArray[i] === false){
                mod.classList.remove('initial');
                mod.classList.add('not-pass');
                mod.classList.remove('pass');
            } else if (passArray[i] === 'n/a'){
                mod.classList.add('initial');
                mod.classList.remove('not-pass');
                mod.classList.remove('pass');
            }
        })
        overlayQuestions.classList.toggle("show");
        modal.classList.toggle("show");
        setTimeout(function(){
            overlayQuestions.classList.toggle("visible");
            modal.classList.toggle("visible");
        }, 20);
    }

    function closeModal () {
        overlayQuestions.classList.toggle("show");
        modal.classList.toggle("show");
        setTimeout(function(){
            overlayQuestions.classList.toggle("visible");
            modal.classList.toggle("visible");
        }, 20);
    }

    function getSolution () {
        questions.forEach((ans, i) => {
            ans.classList.add('tried')
            let inputs = ans.querySelectorAll("input");
            inputs.forEach(el => {
                el.value === 'yes' ? el.checked = true : el.checked = false
            })
        })
    }

    function resetInputs () {
        questions.forEach((ans, i) => {
            ans.classList.remove('tried')
            let inputs = ans.querySelectorAll("input");
            inputs.forEach(el => {
                el.checked = false
            })
        }) 
    }

</script>